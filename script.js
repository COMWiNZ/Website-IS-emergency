document.addEventListener('DOMContentLoaded', function () {
    const searchInput = document.getElementById('searchInput');
    const searchButton = document.querySelector('.search-btn');

    // รายการเมนูที่ต้องค้นหา
    const menuItems = [
        { name: "เหตุด่วน แจ้งเหตุด่วน เหตด่วน เบอร์ตำรวจ ตำรวจ แจ้งไฟไหม้ แจ้งเหตุเพลิงไหม้ เบอร์ดับเพลิง แจ้งคดีรุนแรง ดับเพลิง อาชกรรม เเจ้งอาญากรรม แจ้งอาชญากรรม เบอร์กองปราบ แจ้งคดีร้ายแรง กองปราบ กองปราบปราม แจ้งโจรขึ้นบ้าน แจ้งโจรขึ้น โจรปล้นบ้าน แจ้งโดนปล้น แจ้งโจรปล้น รถหาย รถถหาย รถหายย แจ้งรถหาย รถยนต์หาย แจ้งรถยนต์หาย ศูนย์ปราบปรามการโจรกรรมรถ ศูนย์รถหาย แจ้งรถโดนขโมย รถหายโทรไหน แจ้งคนหาย แจ้งเหตุคนหาย คนนหาย คนหายย ศูนย์แจ้งคนหาย ศูนย์ปชาบดี แจ้งเหตุภัยพิบัติ ภัยพิบัติ เหตุภัยพิบัติ น้ำท่วม แผ่นดินไหว ไฟไหม้ป่า น้ำป่าไหลหลาก แจ้งน้ำท่วม แจ้งแผ่นดินไหว แจ้งภัยพิบัติ แจ้งเหตุภัย ภัยพิบัติทางน้ำ แจ้งน้ำท่วม ตำรวจน้ำ เหตุเรือล่ม อุบัติเหตุทางน้ำ ขอความช่วยเหลือจากภัยพิบัติ ขอความช่วยเหลือจากน้ำท่วม ขอความช่วยเหลือจากไฟไหม้ เหตุภัยพิบัติ กรมบรรเทาสาธารณภัย แจ้งเหตุด่วนป่อเต็กตึ๊ง เบอร์ป่อเต็กตึ๊ง สายด่วนป่อเต็กตึ๊ง ปอเต็กตึ๊ง เบอร์ปอเต็กตึ๊ง  ป่อเต็กตึ๊ง เบอร์ตำรวจ เบอร์ตำรวจทางน้ำ เบอร์นักดับเพลิง เบอร์สถานีดับเพลิง เบอร์แจ้งคนหาย เบอร์แจ้งบุคคลหาย เบอร์แจ้งเหตุอาชญากรรม เบอร์แจ้งเหตุโจร เบอร์แจ้งเหตุโจรปล้น เบอร์แจ้งเหตุรถหาย เบอร์ขอความช่วยเหลือจากภัยพิบัติ เบอร์แจ้งเหตุภัยพิบัติทางน้ำ เบอร์แจ้งเหตุภัยพิบัติ 191 199 1195 1192 1300 192 1196 1784 1418", link: "emergency.html" },
        { name: "การแพทย์ หมอ แพทย์ พยาบาล เอ็มบูแลนซ์ แจ้งป่วยกทม เหตุป่วยกทม emergency bangkok หน่วยแพทย์กทม ฉุกเฉินกทม เบอร์โทรทางการแพทย์ เบอร์โทรแพทย์ฉุกเฉิน แจ้งป่วย แจ็งเจ็บ เจ็บป่วยฉุุกเฉิน ฉุกเฉลิน แจ้งเจ็บป่วยฉุกเฉิน แจ้งเหตุทางการแพทย์ แจ้งเหตุเจ็บป่วยฉุกเฉิน แพทย์ฉุกเฉิน ขอความช่วยเหลือสุขภาพจิต ขอความช่วยเหลือทางการแพทย์ เบอร์รถโรงบาล เบอร์รถโรงพยาบาล รถโรงพยาบาล รถโรงบาล รถโรงพยาบาลด่วน บาดเจ็บ แพทย์ฉุกเฉิน ขอความช่วยเหลือแพทย์ ช่วยชีวิต ขอรถพยาบาล ประสานงานแพทย์ โทรเรียกรถพยาบาล ช่วยเหลือจิตใจ ปัญหาสุขภาพจิต สุขภาพจิด ปรึกษาสุขภาพจิต กรมสุขภาพจิด 1669 1646 1554 1691 1667", link: "medical.html" },
        { name: "การเดินทาง อุบัติเหตุทางด่วน อุบัติเหตุทางพิเศษ อุบัติเหตุบนทางพิเศษ แจ้งเหตุทางพิเศษ แจ้งอุบัติเหตุบนทางพิเศษ กรมทางพิเศษ แจ้งเหตุทางหลวงชนบท แจ้งอุบัติเหตุทางหลวงชนบท อุบัติเหตุทางหลวงชนบท กรมทางหลวงชนบท ตำรวจท่องเที่ยว แจ้งเหตุท่องเที่ยว ตำรวจการท่องเที่ยว ตำรวจทางหลวง อุบัติเหตุทางหลวง แจ้งอุบัติเหตุทางหลวง แจ้งเหตุทางหลวง อุบัติเหตุบนถนน สายด่วนจราจร แจ้งอุบัติเหตุถนน แจ้งเหตุรถชน ขอช่วยเหลือบนถนนทางหลวง แจ้งอุบัติเหตุถนนทางหลวง ขอความช่วยเหลือถนนทางหลวง กรมทางหลวง รถไฟ แจ้งเหตุรถไฟ แจ้งอุบัติเหตรถไฟ การรถไฟ แจ้งการจราจร แจ้งสภาพการจราจร การจราจร สถานีวิทยุจราจร แจ้งเหตุในสนามบิน แจ้งเหตุสนามบิน แจ้งเหตุในท่าอากาศยาน แจ้งอุบัติเหตุในสนามบิน แจ้งอุบัติเหตุในท่าอากาศยาน สอบถามข้อมูลสนามบิน สอบถามข้อมูลท่าอากาศยาน ร้องเรียนรถประจำทาง ร้องเรียนรถเมล์ ร้องเรียนรถโดยสาร ร้องเรียนรถคู้ ร้องเรียนรถสาธารณะ ร้องเรียนรถขนส่งสาธารณะ กรมขนส่ง ช่วยเหลือนักท่องเที่ยว ศูนย์ช่วยเหลือนักท่องเที่ยว อุบัติเหตุการท่องเที่ยว อุบัติเหตุท่องเที่ยว เบอร์ช่วยเหลือนักท่องเที่ยว เบอร์แจ้งอุบัติเหตุท่องเที่ยว เบอร์แจ้งอุบัติเหตุการจราจร เบอร์แจ้งอุบัติเหตุรถ เบอร์ร้องเรียนรถโดยสาร เบอร์ร้องเรียนรถโดยสารประจำทาง เบอร์ร้องเรียนรถตู้ เบอร์ร้องเรียนรถเมล์ เบอร์ร้องเรียนรถสองแถว เบอร์ร้องเรียนรถแท็กซี่ เบอร์ร้องเรียนรถขนส่งสาธารณะ เบอร์ร้องเรียนรถประจำทาง แจ้งปัญหารถประจำทาง แจ้งปัญหารถเมล์ แจ้งปัญหารถสาธารณะ แจ้งเหตุขณะท่องเที่ยว 1543 1146 1155 1193 1197 1586 1690 1644 1722 1384 1584 021344077", link: "travle.html" },
        { name: "หน่วยงาน องค์กร ปรึกษาเลิกยา เลิกยาเสพติด ปรึกษายาเสพติด ปรึกษาเลิกยาเสพติด สายด่วนยาเสพติด ศูนย์บำบัดยา แจ้งเบาะแสยา แจ้งเบาะแสยาเสพติด เบาะแสยาเสพติด แจ้งจับยาเสพติด แจ้งข่าวยาเสพติด ยาเสพติด แจ้งเบาะแสเด็ก ช่วยเด็ก ช่วยเหลือเด็ก มูลนิธิปวีณา เบอร์เลิกยาเสพติด เบอร์ปรึกษาเลิกยาเสพติด เบอร์มูลนิธิช่วยเหลือเด็ก เบอร์หน่วยงานช่วยเหลือเด็ก เบอร์แจ้งเบาะแสยาเสพติด เบอร์แจ้งปัญหายาเสพติด 1165 1138 1134", link: "agency.html" },
        { name: "สาธารณูปโภค ไฟฟ้าขัดข้อง ไฟดับ แจ้งไฟดับ แจ้งไฟฟ้าขัดข้อง PEA แจ้งไฟฟ้าส่วนภูมิภาค ไฟดับ กทม ไฟดับ กรุงเทพ แจ้งไฟดับ กทม MEA ไฟดับ นนทบุรี ไฟดับนนทบุรี ไฟดับ สมุทรปราการ ไฟดับสมุทรปราการ น้ำไม่ไหล น้ำประปา แจ้งน้ำไม่ไหล แจ้งปัญหาน้ำประปา แจ้งปัญหาน้ำประปา PWA น้ำไม่ไหล กทม น้ำประปากรุงเทพ แจ้งน้ำประปากรุงเทพ แจ้งน้ำไม่ไหล MWA ประกันสังคม ติดต่อประกันสังคม สำนักงานประกันสังคม ปัญหาการขนส่ง ขนส่งล่าช้า แจ้งพัสดุหาย ไปรษณีย์ไทย ตรวจสอบพัสดุสอบถามพัสดุ ร้องเรียน กทม แจ้งเหตุ กทม ปัญหากรุงเทพ แจ้งปัญหา กทม แจ้งปัญหา กรุงเทพ ศูนย์เรื่องราวร้องทุกข์ กทม เบอร์ไปรษณีย์ เบอร์การไฟฟ้าส่วนภูมิภาค เบอร์การไฟฟ้านครหลวง เบอร์การประปาส่วนภูมิภาค เบอร์การประปานครหลวง เบอร์ประกันสังคม เบอร์สำนักงานประกันสังคม เบอร์ศูนย์เรื่องราวร้องทุกข์ กทม 1129 1130 1162 1125 1506 1050 1555", link: "utilities.html" }
    ];


    function searchMenu() {
        const query = searchInput.value.trim().toLowerCase();
        if (!query) return; // ถ้าไม่มีอะไรพิมพ์ ก็ไม่ทำอะไร

        // หาว่าพิมพ์อะไรตรงกับเมนูไหม
        const found = menuItems.find(item => item.name.toLowerCase().includes(query));
        if (found) {
            window.location.href = found.link; // พาไปยังหน้า
        } else {
            alert("ไม่พบข้อมูลที่คุณค้นหา");
        }
    }
    searchButton.addEventListener('click', function (e) {
        e.preventDefault();
        searchMenu();
    });

    
    searchInput.addEventListener('keydown', function (e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            searchMenu();
        }
    });
});

suggestions.forEach(item => {
    const li = document.createElement('li');
    li.innerHTML = `📞 <strong>${item.tel}</strong> - ${item.keyword[1]}`;
    li.style.cursor = 'pointer';
    li.onclick = () => {
        if (confirm(`แน่ใจหรือไม่ว่าจะโทร ${item.tel} ?`)) {
            window.location.href = `tel:${item.tel}`;
        }
    };
    suggestionsList.appendChild(li);
});

if (suggestions.length === 0) {
    const li = document.createElement('li');
    li.textContent = 'ไม่พบข้อมูลที่ค้นหา';
    suggestionsList.appendChild(li);
}

function toggleMenu() {
    const menu = document.getElementById("nav-menu");
    menu.classList.toggle("active");
}
